--- modules/proxy/mod_proxy_balancer.c	2008-11-14 14:39:43.000000000 -0800
+++ modules/proxy/mod_proxy_balancer.c	2008-11-14 15:23:12.000000000 -0800

@@ -575,8 +575,11 @@
 
 #endif
 
-    if (worker && worker->s->busy)
+    if (worker && worker->s->busy){
+		if(worker->s->busy ==1)
+			sleep(2);
         worker->s->busy--;
+	}
 
     return OK;
 
@@ -830,6 +831,7 @@
                 "<th>Worker URL</th>"
                 "<th>Route</th><th>RouteRedir</th>"
                 "<th>Factor</th><th>Set</th><th>Status</th>"
+                "<th>Busyness</th>"
                 "<th>Elected</th><th>To</th><th>From</th>"
                 "</tr>\n", r);
 
@@ -861,6 +863,7 @@
                 if (!PROXY_WORKER_IS_INITIALIZED(worker))
                     ap_rputs("-", r);
                 ap_rputs("</td>", r);
+                ap_rprintf(r, "<td>%" APR_SIZE_T_FMT "</td>", worker->s->busy);
                 ap_rprintf(r, "<td>%" APR_SIZE_T_FMT "</td><td>", worker->s->elected);
                 ap_rputs(apr_strfsize(worker->s->transferred, fbuf), r);
                 ap_rputs("</td><td>", r);


--- modules/proxy/mod_proxy.c	2008-11-11 21:04:34.000000000 +0100
+++ modules/proxy/mod_proxy.c	2009-04-20 16:52:52.000000000 +0200
 
@@ -997,8 +997,11 @@ static int proxy_handler(request_rec *r)
              * We can not failover to another worker.
              * Mark the worker as unusable if member of load balancer
              */
-            if (balancer)
+            if (balancer){
                 worker->s->status |= PROXY_WORKER_IN_ERROR;
+		proxy_run_post_request(worker, balancer, r, conf);
+		balancer = NULL;
+	    }
             break;
         }
         else if (access_status == HTTP_SERVICE_UNAVAILABLE) {
@@ -1008,6 +1011,8 @@ static int proxy_handler(request_rec *r)
              */
             if (balancer) {
                 worker->s->status |= PROXY_WORKER_IN_ERROR;
+		proxy_run_post_request(worker, balancer, r, conf);
+		balancer = NULL;
             }
         }
         else {
